<!DOCTYPE html>
<html lang="tw">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="robots" content="noindex,nofollow" />
<meta name="keywords" content="">
<meta name="description" content="">
<title>個人化條碼</title>
<!-- Bootstrap -->
<link href="css/bootstrap.min.css" rel="stylesheet">
<!-- HTML5 shim and Respond.js 讓 IE8 支援 HTML5 元素與媒體查詢 -->
<!-- 警告：Respond.js 無法在 file:// 協定下運作 -->
<!--[if lt IE 9]>
<script src="js/html5shiv.min.js"></script>
<script src="js/respond.min.js"></script>
<![endif]-->
<script src="js/jquery.js"></script>
<script src="js/bootstrap.min.js"></script>
<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
<script src="js/ie10-viewport-bug-workaround.js"></script>
</head>
<body>
<!--<div class="container-fluid">
	<div class="row bg-primary">
		<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
  		<h4 class="text-center">
  			個人化條碼
  		</h4>
		</div>
	</div>
</div>-->
<div class="clearfix" style="margin-bottom: 10px;"></div>
<div class="container">
	<div class="row">
		<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center">
			<h2 id="prodName"></h2>
		</div>
	</div>
</div>
<div class="container">
	<div class="row">
		<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center">
			<p>
				<img src="" id="value1" style="height:70px;">
			</p>
			<p id="enabled2" style="visibility: hidden;">
				<img src="" id="value2" style="height:50px;margin-top:5px;margin-bottom:5px;">
			</p>
			<p id="enabled3" style="visibility: hidden;">
				<img src="" id="value3" style="height:50px;margin-top:5px;margin-bottom:5px;">
			</p>
			<p>
				到期日 : <span id="endDate"></span>
			</p>
		</div>
	</div>
</div>
<script>
const urlParams = new URLSearchParams(window.location.search);
let type = urlParams.get('type');
if (!type) {
    type = "128";
}
type = type + "/";
let value1 = urlParams.get('value1');
if (!value1) {
    value1 = "00000000";
}
let endDate = urlParams.get('expiration');
let prodName = urlParams.get('name');

let value2 = urlParams.get('value2');
if (value2) {
    document.getElementById('value2').src = `https://barcodeapi.org/api/128/${value2}?text=none`;
    document.getElementById('enabled2').style.visibility = "visible";
}
let value3 = urlParams.get('value3');
if (value3) {
    document.getElementById('value3').src = `https://barcodeapi.org/api/128/${value3}?text=none`;
    document.getElementById('enabled3').style.visibility = "visible";
}
document.getElementById('prodName').textContent = prodName;
document.getElementById('value1').src = `https://barcodeapi.org/api/${type}${value1}?text=none`;
document.getElementById('endDate').textContent = endDate;

</script>        	
</body>
</html>
